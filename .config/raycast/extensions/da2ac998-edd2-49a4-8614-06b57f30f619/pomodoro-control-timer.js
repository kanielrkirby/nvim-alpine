"use strict";var v=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var B=(t,r)=>{for(var p in r)v(t,p,{get:r[p],enumerable:!0})},D=(t,r,p,d)=>{if(r&&typeof r=="object"||typeof r=="function")for(let c of y(r))!x.call(t,c)&&c!==p&&v(t,c,{get:()=>r[c],enumerable:!(d=b(r,c))||d.enumerable});return t};var C=t=>D(v({},"__esModule",{value:!0}),t);var O={};B(O,{default:()=>P});module.exports=C(O);var n=require("@raycast/api"),o=require("@raycast/api");var I=require("@raycast/api"),l=new I.Cache,u="pomodoro-interval/1.1",f=()=>Math.round(new Date().valueOf()/1e3);function g({parts:t}){return!!t[t.length-1].pausedAt}function s(t){let r={type:t,length:T[t],parts:[{startedAt:f()}]};return l.set(u,JSON.stringify(r)),r}function A(){let t=m();if(t){let r=[...t.parts];r[r.length-1].pausedAt=f(),t={...t,parts:r},l.set(u,JSON.stringify(t))}return t}function h(){let t=m();if(t){let r=[...t.parts,{startedAt:f()}];t={...t,parts:r},l.set(u,JSON.stringify(t))}return t}function k(){l.remove(u)}function m(){let t=l.get(u);if(t)return JSON.parse(t)}var i=(0,I.getPreferenceValues)(),T={focus:parseInt(i.focusIntervalDuration)*60,"short-break":parseInt(i.shortBreakIntervalDuration)*60,"long-break":parseInt(i.longBreakIntervalDuration)*60};var e=require("react/jsx-runtime"),a=t=>()=>{t(),(0,n.launchCommand)({name:"pomodoro-menu-bar",type:n.LaunchType.UserInitiated}),(0,n.popToRoot)(),(0,n.closeMainWindow)()},S=()=>{let t=m();return(0,e.jsx)(n.List,{navigationTitle:"Control Pomodoro Timers",children:t?(0,e.jsxs)(e.Fragment,{children:[g(t)?(0,e.jsx)(n.List.Item,{title:"Continue",icon:n.Icon.Play,actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(h),title:"Continue"})})}):(0,e.jsx)(n.List.Item,{title:"Pause",icon:n.Icon.Pause,actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(A),title:"Pause"})})}),(0,e.jsx)(n.List.Item,{title:"Reset",icon:n.Icon.Stop,actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(k),title:"Reset"})})})]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.List.Item,{title:"Focus",subtitle:`${i.focusIntervalDuration}:00`,icon:"\u{1F3AF}",actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(()=>s("focus")),title:"Focus"})})}),(0,e.jsx)(n.List.Item,{title:"Short Break",subtitle:`${i.shortBreakIntervalDuration}:00`,icon:"\u{1F9D8}\u200D\u2642\uFE0F",actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(()=>s("short-break")),title:"Short Break"})})}),(0,e.jsx)(n.List.Item,{title:"Long Break",subtitle:`${i.longBreakIntervalDuration}:00`,icon:"\u{1F6B6}",actions:(0,e.jsx)(o.ActionPanel,{children:(0,e.jsx)(o.Action,{onAction:a(()=>s("long-break")),title:"Long Break"})})})]})})},L=()=>(0,e.jsx)(n.Detail,{navigationTitle:"Interval completed",markdown:`${i.completionImage}`,actions:(0,e.jsxs)(o.ActionPanel,{title:"Start Next Interval",children:[(0,e.jsx)(o.Action,{title:"Focus",onAction:a(()=>s("focus")),shortcut:{modifiers:["cmd"],key:"f"}}),(0,e.jsx)(o.Action,{title:"Short Break",onAction:a(()=>s("short-break")),shortcut:{modifiers:["cmd"],key:"s"}}),(0,e.jsx)(o.Action,{title:"Long Break",onAction:a(()=>s("long-break")),shortcut:{modifiers:["cmd"],key:"l"}})]})});function P(){return n.environment.launchContext?.currentInterval?(0,e.jsx)(L,{}):(0,e.jsx)(S,{})}0&&(module.exports={});
